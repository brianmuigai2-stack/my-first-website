/* ===========================
   TRANSLATIONS
   =========================== */
   const translations = {
    en: {
      'themes': 'Themes',
      'light': 'Light',
      'dark': 'Dark',
      'ocean': 'Ocean',
      'forest': 'Forest',
      'sunset': 'Sunset',
      'galaxy': 'Galaxy',
      'hero-title': "Hey, I'm Brian ðŸ‘‹",
      'hero-subtitle': 'Junior Developer | React Enthusiast | Problem Solver',
      'view-projects': 'View Projects',
      'contact-me': 'Contact Me',
      'about-title': 'About Me',
      'about-text': "I'm a passionate software engineering student focused on building clean, responsive web applications. I enjoy solving problems with code, contributing to open-source, and continuously learning modern frameworks. Currently exploring React and full-stack development to create impactful digital experiences.",
      'projects-label': 'Projects',
      'technologies-label': 'Technologies',
      'commits-label': 'Commits',
      'services-title': 'Services I Offer',
      'service-frontend': 'Front-End Development',
      'service-frontend-desc': 'Creating responsive, interactive web applications using React, Vue.js, and modern JavaScript frameworks.',
      'service-frontend-feature1': 'React/Vue.js Development',
      'service-frontend-feature2': 'Responsive Design',
      'service-frontend-feature3': 'Performance Optimization',
      'service-backend': 'Back-End Development',
      'service-backend-desc': 'Building robust server-side applications with Node.js, Express, and database integration.',
      'service-backend-feature1': 'Node.js/Express APIs',
      'service-backend-feature2': 'Database Design',
      'service-backend-feature3': 'Authentication Systems',
      'service-uiux': 'UI/UX Design',
      'service-uiux-desc': 'Designing beautiful, user-centered interfaces that provide exceptional user experiences.',
      'service-uiux-feature1': 'Wireframing & Prototyping',
      'service-uiux-feature2': 'User Research',
      'service-uiux-feature3': 'Design Systems',
      'get-quote': 'Get Quote â†’',
      'skills-title': 'Skills',
      'projects-title': 'Projects',
      'filter-all': 'All',
      'filter-web': 'Web',
      'filter-mobile': 'Mobile',
      'filter-ui': 'UI',
      'filter-tools': 'Tools',
      'contact-title': 'Get In Touch',
      'email-label': 'Email',
      'phone-label': 'Phone',
      'location-label': 'Location',
      'name-label': 'Your Name',
      'email-input-label': 'Your Email',
      'subject-label': 'Subject',
      'message-label': 'Message',
      'send-message': 'Send Message',
      'blog-title': 'Latest Articles',
      'read-more': 'Read More â†’',
      'testimonials-title': 'What Clients Say',
      'testimonial1': '"Brian delivered an exceptional web application that exceeded our expectations. His attention to detail and problem-solving skills are outstanding. Highly recommended!"',
      'testimonial1-role': 'CEO, TechStart Inc.',
      'testimonial2': '"Working with Brian was a pleasure. He brought our vision to life with clean code and innovative solutions. His communication and professionalism are top-notch."',
      'testimonial2-role': 'Product Manager, InnovateCo',
      'testimonial3': '"Brian\'s expertise in React and modern web technologies helped us launch our product ahead of schedule. His dedication to quality is impressive."',
      'testimonial3-role': 'CTO, StartupHub',
      'newsletter-title': 'Stay Updated',
      'newsletter-subtitle': 'Get the latest updates on my projects and articles delivered to your inbox',
      'subscribe': 'Subscribe',
      'privacy-notice': 'I respect your privacy. Unsubscribe at any time. No spam, ever.',
      'success-message': 'Successfully subscribed! Check your email for confirmation.',
      'resume-title': 'Download My Resume',
      'resume-subtitle': 'Get a detailed overview of my experience and skills',
      'download-pdf': 'Download PDF',
      'download-doc': 'Download DOCX',
      'privacy': 'Privacy Policy',
      'terms': 'Terms of Service'
    },
    es: {
      'themes': 'Temas',
      'light': 'Claro',
      'dark': 'Oscuro',
      'ocean': 'OcÃ©ano',
      'forest': 'Bosque',
      'sunset': 'Atardecer',
      'galaxy': 'Galaxia',
      'hero-title': 'Hola, soy Brian ðŸ‘‹',
      'hero-subtitle': 'Desarrollador Junior | Entusiasta de React | Solucionador de Problemas',
      'view-projects': 'Ver Proyectos',
      'contact-me': 'ContÃ¡ctame',
      'about-title': 'Acerca de MÃ­',
      'about-text': 'Soy un estudiante apasionado de ingenierÃ­a de software enfocado en construir aplicaciones web limpias y responsivas. Disfruto resolviendo problemas con cÃ³digo, contribuyendo a cÃ³digo abierto y aprendiendo continuamente frameworks modernos. Actualmente explorando React y desarrollo full-stack para crear experiencias digitales impactantes.',
      'projects-label': 'Proyectos',
      'technologies-label': 'TecnologÃ­as',
      'commits-label': 'Commits',
      'services-title': 'Servicios que Ofrezco',
      'service-frontend': 'Desarrollo Front-End',
      'service-frontend-desc': 'Creando aplicaciones web responsivas e interactivas usando React, Vue.js y frameworks modernos de JavaScript.',
      'service-frontend-feature1': 'Desarrollo React/Vue.js',
      'service-frontend-feature2': 'DiseÃ±o Responsivo',
      'service-frontend-feature3': 'OptimizaciÃ³n de Rendimiento',
      'service-backend': 'Desarrollo Back-End',
      'service-backend-desc': 'Construyendo aplicaciones robustas del lado del servidor con Node.js, Express e integraciÃ³n de bases de datos.',
      'service-backend-feature1': 'APIs Node.js/Express',
      'service-backend-feature2': 'DiseÃ±o de Base de Datos',
      'service-backend-feature3': 'Sistemas de AutenticaciÃ³n',
      'service-uiux': 'DiseÃ±o UI/UX',
      'service-uiux-desc': 'DiseÃ±ando interfaces hermosas y centradas en el usuario que proporcionen experiencias de usuario excepcionales.',
      'service-uiux-feature1': 'Wireframing & Prototipado',
      'service-uiux-feature2': 'InvestigaciÃ³n de Usuario',
      'service-uiux-feature3': 'Sistemas de DiseÃ±o',
      'get-quote': 'Obtener CotizaciÃ³n â†’',
      'skills-title': 'Habilidades',
      'projects-title': 'Proyectos',
      'filter-all': 'Todos',
      'filter-web': 'Web',
      'filter-mobile': 'MÃ³vil',
      'filter-ui': 'UI',
      'filter-tools': 'Herramientas',
      'contact-title': 'ContÃ¡ctame',
      'email-label': 'Correo',
      'phone-label': 'TelÃ©fono',
      'location-label': 'UbicaciÃ³n',
      'name-label': 'Tu Nombre',
      'email-input-label': 'Tu Correo',
      'subject-label': 'Asunto',
      'message-label': 'Mensaje',
      'send-message': 'Enviar Mensaje',
      'blog-title': 'Ãšltimos ArtÃ­culos',
      'read-more': 'Leer MÃ¡s â†’',
      'testimonials-title': 'QuÃ© Dicen los Clientes',
      'testimonial1': '"Brian entregÃ³ una aplicaciÃ³n web excepcional que superÃ³ nuestras expectativas. Su atenciÃ³n al detalle y habilidades para resolver problemas son sobresalientes. Â¡Muy recomendado!"',
      'testimonial1-role': 'CEO, TechStart Inc.',
      'testimonial2': '"Trabajar con Brian fue un placer. Ã‰l dio vida a nuestra visiÃ³n con cÃ³digo limpio e soluciones innovadoras. Su comunicaciÃ³n y profesionalismo son de primera clase."',
      'testimonial2-role': 'Product Manager, InnovateCo',
      'testimonial3': '"La experiencia de Brian en React y tecnologÃ­as web modernas nos ayudÃ³ a lanzar nuestro producto antes de lo previsto. Su dedicaciÃ³n a la calidad es impresionante."',
      'testimonial3-role': 'CTO, StartupHub',
      'newsletter-title': 'Mantente Actualizado',
      'newsletter-subtitle': 'ObtÃ©n las Ãºltimas actualizaciones sobre mis proyectos y artÃ­culos entregados en tu bandeja de entrada',
      'subscribe': 'Suscribirse',
      'privacy-notice': 'Respeto tu privacidad. Cancela en cualquier momento. Sin spam, nunca.',
      'success-message': 'Â¡Suscrito exitosamente! Revisa tu correo para confirmaciÃ³n.',
      'resume-title': 'Descargar Mi CV',
      'resume-subtitle': 'ObtÃ©n una descripciÃ³n detallada de mi experiencia y habilidades',
      'download-pdf': 'Descargar PDF',
      'download-doc': 'Descargar DOCX',
      'privacy': 'PolÃ­tica de Privacidad',
      'terms': 'TÃ©rminos de Servicio'
    },
    fr: {
      'themes': 'ThÃ¨mes',
      'light': 'Clair',
      'dark': 'Sombre',
      'ocean': 'OcÃ©an',
      'forest': 'ForÃªt',
      'sunset': 'Coucher',
      'galaxy': 'Galaxie',
      'hero-title': 'Salut, je suis Brian ðŸ‘‹',
      'hero-subtitle': 'DÃ©veloppeur Junior | PassionnÃ© de JavaScript | RÃ©solveur de ProblÃ¨mes',
      'view-projects': 'Voir Projets',
      'contact-me': 'Contactez-moi',
      'about-title': 'Ã€ Propos',
      'about-text': 'Je suis un Ã©tudiant passionnÃ© en ingÃ©nierie logicielle axÃ© sur la crÃ©ation d\'applications web propres et responsives. J\'aime rÃ©soudre des problÃ¨mes avec du code, contribuer Ã  l\'open source et apprendre continuellement des frameworks modernes. J\'explore actuellement React et le dÃ©veloppement full-stack pour crÃ©er des expÃ©riences numÃ©riques percutantes.',
      'projects-label': 'Projets',
      'technologies-label': 'Technologies',
      'commits-label': 'Commits',
      'services-title': 'Services que j\'offre',
      'service-frontend': 'DÃ©veloppement Front-End',
      'service-frontend-desc': 'CrÃ©ation d\'applications web responsives et interactives utilisant React, Vue.js et frameworks JavaScript modernes.',
      'service-frontend-feature1': 'DÃ©veloppement React/Vue.js',
      'service-frontend-feature2': 'Design Responsif',
      'service-frontend-feature3': 'Optimisation des Performances',
      'service-backend': 'DÃ©veloppement Back-End',
      'service-backend-desc': 'Construction d\'applications robustes cÃ´tÃ© serveur avec Node.js, Express et intÃ©gration de bases de donnÃ©es.',
      'service-backend-feature1': 'APIs Node.js/Express',
      'service-backend-feature2': 'Conception de Base de DonnÃ©es',
      'service-backend-feature3': 'SystÃ¨mes d\'Authentification',
      'service-uiux': 'Design UI/UX',
      'service-uiux-desc': 'Conception d\'interfaces magnifiques et centrÃ©es sur l\'utilisateur qui fournissent des expÃ©riences utilisateur exceptionnelles.',
      'service-uiux-feature1': 'Wireframing & Prototypage',
      'service-uiux-feature2': 'Recherche Utilisateur',
      'service-uiux-feature3': 'SystÃ¨mes de Design',
      'get-quote': 'Obtenir un Devis â†’',
      'skills-title': 'CompÃ©tences',
      'projects-title': 'Projets',
      'filter-all': 'Tous',
      'filter-web': 'Web',
      'filter-mobile': 'Mobile',
      'filter-ui': 'UI',
      'filter-tools': 'Outils',
      'contact-title': 'Contactez-moi',
      'email-label': 'Email',
      'phone-label': 'TÃ©lÃ©phone',
      'location-label': 'Localisation',
      'name-label': 'Votre Nom',
      'email-input-label': 'Votre Email',
      'subject-label': 'Sujet',
      'message-label': 'Message',
      'send-message': 'Envoyer Message',
      'blog-title': 'Derniers Articles',
      'read-more': 'Lire Plus â†’',
      'testimonials-title': 'Que Disent les Clients',
      'testimonial1': '"Brian a livrÃ© une application web exceptionnelle qui a dÃ©passÃ© nos attentes. Son attention aux dÃ©tails et ses compÃ©tences en rÃ©solution de problÃ¨mes sont remarquables. Fortement recommandÃ©!"',
      'testimonial1-role': 'PDG, TechStart Inc.',
      'testimonial2': '"Travailler avec Brian Ã©tait un plaisir. Il a donnÃ© vie Ã  notre vision avec du code propre et des solutions innovantes. Sa communication et son professionnalisme sont de premiÃ¨re classe."',
      'testimonial2-role': 'Chef de Produit, InnovateCo',
      'testimonial3': '"L\'expertise de Brian en React et technologies web modernes nous a aidÃ©s Ã  lancer notre produit avant le prÃ©vu. Sa dÃ©dicaciÃ³n Ã  la qualitÃ© est impressionnante."',
      'testimonial3-role': 'CTO, StartupHub',
      'newsletter-title': 'Restez InformÃ©',
      'newsletter-subtitle': 'Obtenez les derniÃ¨res mises Ã  jour sur mes projets et articles livrÃ©s dans votre boÃ®te de rÃ©ception',
      'subscribe': 'S\'abonner',
      'privacy-notice': 'Je respecte votre vie privÃ©e. DÃ©sabonnez Ã  tout moment. Pas de spam, jamais.',
      'success-message': 'AbonnÃ© avec succÃ¨s! VÃ©rifiez votre email pour confirmation.',
      'resume-title': 'TÃ©lÃ©charger Mon CV',
      'resume-subtitle': 'Obtenez une vue d\'ensemble dÃ©taillÃ©e de mon expÃ©rience et compÃ©tences',
      'download-pdf': 'TÃ©lÃ©charger PDF',
      'download-doc': 'TÃ©lÃ©charger DOCX',
      'privacy': 'Politique de ConfidentialitÃ©',
      'terms': 'Conditions d\'Utilisation'
    },
    de: {
      'themes': 'Themen',
      'light': 'Hell',
      'dark': 'Dunkel',
      'ocean': 'Ozean',
      'forest': 'Wald',
      'sunset': 'Sonnenuntergang',
      'galaxy': 'Galaxie',
      'hero-title': 'Hallo, ich bin Brian ðŸ‘‹',
      'hero-subtitle': 'Junior Entwickler | JavaScript Enthusiast | ProblemlÃ¶ser',
      'view-projects': 'Projekte Ansehen',
      'contact-me': 'Kontaktiere Mich',
      'about-title': 'Ãœber Mich',
      'about-text': 'Ich bin ein leidenschaftlicher Software-Engineering-Student, der sich auf den Bau sauberer, responsiver Webanwendungen konzentriert. Ich liebe es, Probleme mit Code zu lÃ¶sen, zu Open Source beizutragen und kontinuierlich moderne Frameworks zu lernen. Derzeit erkunde ich React und Full-Stack-Entwicklung, um wirkungsvolle digitale Erlebnisse zu schaffen.',
      'projects-label': 'Projekte',
      'technologies-label': 'Technologien',
      'commits-label': 'Commits',
      'services-title': 'Services, die ich anbiete',
      'service-frontend': 'Front-End Entwicklung',
      'service-frontend-desc': 'Erstellung responsiver, interaktiver Webanwendungen mit React, Vue.js und modernen JavaScript-Frameworks.',
      'service-frontend-feature1': 'React/Vue.js Entwicklung',
      'service-frontend-feature2': 'Responsives Design',
      'service-frontend-feature3': 'Performance Optimierung',
      'service-backend': 'Back-End Entwicklung',
      'service-backend-desc': 'Erstellung robuster Server-seit Anwendungen mit Node.js, Express und Datenbank-Integration.',
      'service-backend-feature1': 'Node.js/Express APIs',
      'service-backend-feature2': 'Datenbank-Design',
      'service-backend-feature3': 'Authentifizierungssysteme',
      'service-uiux': 'UI/UX Design',
      'service-uiux-desc': 'Gestaltung schÃ¶ner, benutzerzentrierter Interfaces, die herausragende Benutzererlebnisse bieten.',
      'service-uiux-feature1': 'Wireframing & Prototyping',
      'service-uiux-feature2': 'Benutzerforschung',
      'service-uiux-feature3': 'Design-Systeme',
      'get-quote': 'Angebot Anfordern â†’',
      'skills-title': 'FÃ¤higkeiten',
      'projects-title': 'Projekte',
      'filter-all': 'Alle',
      'filter-web': 'Web',
      'filter-mobile': 'Mobile',
      'filter-ui': 'UI',
      'filter-tools': 'Werkzeuge',
      'contact-title': 'Kontaktiere Mich',
      'email-label': 'Email',
      'phone-label': 'Telefon',
      'location-label': 'Standort',
      'name-label': 'Ihr Name',
      'email-input-label': 'Ihre Email',
      'subject-label': 'Betreff',
      'message-label': 'Nachricht',
      'send-message': 'Nachricht Senden',
      'blog-title': 'Neueste Artikel',
      'read-more': 'Mehr Lesen â†’',
      'testimonials-title': 'Was Kunden Sagen',
      'testimonial1': '"Brian hat eine herausragende Webanwendung geliefert, die unsere Erwartungen Ã¼bertroffen. Seine Aufmerksamkeit fÃ¼r Details und ProblemlÃ¶sungsfÃ¤higkeiten sind herausragend. Sehr empfohlen!"',
      'testimonial1-role': 'CEO, TechStart Inc.',
      'testimonial2': '"Mit Brian zu arbeiten war ein VergnÃ¼gen. Er hat unsere Vision mit sauberem Code und innovativen LÃ¶sungen zum Leben erweckt. Seine Kommunikation und ProfessionalitÃ¤t sind erstklassig."',
      'testimonial2-role': 'Produktmanager, InnovateCo',
      'testimonial3': '"Brians Expertise in React und modernen Web-Technologien hat uns geholfen, unser Produkt vor dem Zeitplan zu starten. Seine Hingabe zur QualitÃ¤t ist beeindruckend."',
      'testimonial3-role': 'CTO, StartupHub',
      'newsletter-title': 'Bleib auf dem Laufenden',
      'newsletter-subtitle': 'Erhalten Sie die neuesten Updates zu meinen Projekten und Artikeln direkt in Ihrem Posteingang',
      'subscribe': 'Abonnieren',
      'privacy-notice': 'Ich respektiere Ihre PrivatsphÃ¤re. Jederzeit abbestellbar. Kein Spam, niemals.',
      'success-message': 'Erfolgreich abonniert! ÃœberprÃ¼fen Sie Ihre E-Mail zur BestÃ¤tigung.',
      'resume-title': 'Lebenslauf Herunterladen',
      'resume-subtitle': 'Erhalten Sie eine detaillierte Ãœbersicht meiner Erfahrung und FÃ¤higkeiten',
      'download-pdf': 'PDF Herunterladen',
      'download-doc': 'DOCX Herunterladen',
      'privacy': 'DatenschutzerklÃ¤rung',
      'terms': 'Nutzungsbedingungen'
    },
    zh: {
      'themes': 'ä¸»é¢˜',
      'light': 'æµ…è‰²',
      'dark': 'æ·±è‰²',
      'ocean': 'æµ·æ´‹',
      'forest': 'æ£®æž—',
      'sunset': 'æ—¥è½',
      'galaxy': 'é“¶æ²³',
      'hero-title': 'ä½ å¥½ï¼Œæˆ‘æ˜¯Brian ðŸ‘‹',
      'hero-subtitle': 'åˆçº§å¼€å‘è€… | Reactçˆ±å¥½è€… | é—®é¢˜è§£å†³è€…',
      'view-projects': 'æŸ¥çœ‹é¡¹ç›®',
      'contact-me': 'è”ç³»æˆ‘',
      'about-title': 'å…³äºŽæˆ‘',
      'about-text': 'æˆ‘æ˜¯ä¸€åå……æ»¡çƒ­æƒ…çš„è½¯ä»¶å·¥ç¨‹ä¸“ä¸šå­¦ç”Ÿï¼Œä¸“æ³¨äºŽæž„å»ºå¹²å‡€ã€å“åº”å¼çš„Webåº”ç”¨ç¨‹åºã€‚æˆ‘å–œæ¬¢ç”¨ä»£ç è§£å†³é—®é¢˜ï¼Œä¸ºå¼€æºåšè´¡çŒ®ï¼Œå¹¶ä¸æ–­å­¦ä¹ çŽ°ä»£æ¡†æž¶ã€‚ç›®å‰æ­£åœ¨æŽ¢ç´¢Reactå’Œå…¨æ ˆå¼€å‘ï¼Œä»¥åˆ›é€ æœ‰å½±å“åŠ›çš„æ•°å­—ä½“éªŒã€‚',
      'projects-label': 'é¡¹ç›®',
      'technologies-label': 'æŠ€æœ¯',
      'commits-label': 'æäº¤',
      'services-title': 'æˆ‘æä¾›çš„æœåŠ¡',
      'service-frontend': 'å‰ç«¯å¼€å‘',
      'service-frontend-desc': 'ä½¿ç”¨Reactã€Vue.jså’ŒçŽ°ä»£JavaScriptæ¡†æž¶åˆ›å»ºå“åº”å¼ã€äº¤äº’å¼Webåº”ç”¨ç¨‹åºã€‚',
      'service-frontend-feature1': 'React/Vue.jså¼€å‘',
      'service-frontend-feature2': 'å“åº”å¼è®¾è®¡',
      'service-frontend-feature3': 'æ€§èƒ½ä¼˜åŒ–',
      'service-backend': 'åŽç«¯å¼€å‘',
      'service-backend-desc': 'ä½¿ç”¨Node.jsã€Expresså’Œæ•°æ®åº“é›†æˆæž„å»ºå¼ºå¤§çš„æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºã€‚',
      'service-backend-feature1': 'Node.js/Express API',
      'service-backend-feature2': 'æ•°æ®åº“è®¾è®¡',
      'service-backend-feature3': 'èº«ä»½éªŒè¯ç³»ç»Ÿ',
      'service-uiux': 'UI/UXè®¾è®¡',
      'service-uiux-desc': 'è®¾è®¡ç¾Žè§‚ã€ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„ç•Œé¢ï¼Œæä¾›å“è¶Šçš„ç”¨æˆ·ä½“éªŒã€‚',
      'service-uiux-feature1': 'çº¿æ¡†å›¾å’ŒåŽŸåž‹',
      'service-uiux-feature2': 'ç”¨æˆ·ç ”ç©¶',
      'service-uiux-feature3': 'è®¾è®¡ç³»ç»Ÿ',
      'get-quote': 'èŽ·å–æŠ¥ä»· â†’',
      'skills-title': 'æŠ€èƒ½',
      'projects-title': 'é¡¹ç›®',
      'filter-all': 'å…¨éƒ¨',
      'filter-web': 'ç½‘é¡µ',
      'filter-mobile': 'ç§»åŠ¨',
      'filter-ui': 'ç•Œé¢',
      'filter-tools': 'å·¥å…·',
      'contact-title': 'è”ç³»æˆ‘',
      'email-label': 'é‚®ç®±',
      'phone-label': 'ç”µè¯',
      'location-label': 'ä½ç½®',
      'name-label': 'å§“å',
      'email-input-label': 'é‚®ç®±',
      'subject-label': 'ä¸»é¢˜',
      'message-label': 'æ¶ˆæ¯',
      'send-message': 'å‘é€æ¶ˆæ¯',
      'blog-title': 'æœ€æ–°æ–‡ç« ',
      'read-more': 'é˜…è¯»æ›´å¤š â†’',
      'testimonials-title': 'å®¢æˆ·è¯„ä»·',
      'testimonial1': '"Brianäº¤ä»˜äº†ä¸€ä¸ªå“è¶Šçš„ç½‘ç»œåº”ç”¨ï¼Œè¶…å‡ºäº†æˆ‘ä»¬çš„æœŸæœ›ã€‚ä»–å¯¹ç»†èŠ‚çš„å…³æ³¨å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›éžå¸¸å‡ºè‰²ã€‚å¼ºçƒˆæŽ¨èï¼"',
      'testimonial1-role': 'CEOï¼ŒTechStart Inc.',
      'testimonial2': '"ä¸ŽBrianåˆä½œæ˜¯ä¸€æ¬¡æ„‰å¿«çš„ç»åŽ†ã€‚ä»–ç”¨æ¸…æ™°çš„ä»£ç å’Œåˆ›æ–°è§£å†³æ–¹æ¡ˆå°†æˆ‘ä»¬çš„æ„¿æ™¯å˜ä¸ºçŽ°å®žã€‚ä»–çš„æ²Ÿé€šå’Œä¸“ä¸šç²¾ç¥žæ˜¯ä¸€æµçš„ã€‚"',
      'testimonial2-role': 'äº§å“ç»ç†ï¼ŒInnovateCo',
      'testimonial3': '"Brianåœ¨Reactå’ŒçŽ°ä»£WebæŠ€æœ¯æ–¹é¢çš„ä¸“ä¸šçŸ¥è¯†å¸®åŠ©æˆ‘ä»¬æå‰æŽ¨å‡ºäº†äº§å“ã€‚ä»–å¯¹è´¨é‡çš„æŠ•å…¥ä»¤äººå°è±¡æ·±åˆ»ã€‚"',
      'testimonial3-role': 'CTOï¼ŒStartupHub',
      'newsletter-title': 'ä¿æŒæ›´æ–°',
      'newsletter-subtitle': 'èŽ·å–æˆ‘çš„é¡¹ç›®å’Œæ–‡ç« çš„æœ€æ–°æ›´æ–°ï¼Œç›´æŽ¥å‘é€åˆ°æ‚¨çš„æ”¶ä»¶ç®±',
      'subscribe': 'è®¢é˜…',
      'privacy-notice': 'æˆ‘å°Šé‡æ‚¨çš„éšç§ã€‚éšæ—¶å¯ä»¥å–æ¶ˆè®¢é˜…ã€‚ç»ä¸å‘é€åžƒåœ¾é‚®ä»¶ã€‚',
      'success-message': 'è®¢é˜…æˆåŠŸï¼è¯·æŸ¥çœ‹æ‚¨çš„ç”µå­é‚®ä»¶è¿›è¡Œç¡®è®¤ã€‚',
      'resume-title': 'ä¸‹è½½æˆ‘çš„ç®€åŽ†',
      'resume-subtitle': 'èŽ·å–æˆ‘çš„ç»éªŒå’ŒæŠ€èƒ½çš„è¯¦ç»†æ¦‚è¿°',
      'download-pdf': 'ä¸‹è½½PDF',
      'download-doc': 'ä¸‹è½½DOCX',
      'privacy': 'éšç§æ”¿ç­–',
      'terms': 'æœåŠ¡æ¡æ¬¾'
    }
  };
  
  /* ===========================
     PAGE TRANSITIONS
     =========================== */
  const pageTransitionOverlay = document.querySelector('.page-transition-overlay');
  
  function showPageTransition() {
    pageTransitionOverlay.classList.add('active');
    setTimeout(() => {
      pageTransitionOverlay.classList.remove('active');
    }, 1500);
  }
  
  // Show transition on page load
  window.addEventListener('load', () => {
    setTimeout(() => {
      showPageTransition();
    }, 500);
  });
  
  // Handle navigation with transitions
  document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', (e) => {
      if (link.hash) {
        e.preventDefault();
        const targetSection = document.querySelector(link.hash);
        if (targetSection) {
          showPageTransition();
          setTimeout(() => {
            targetSection.scrollIntoView({ behavior: 'smooth' });
          }, 800);
        }
      }
    });
  });
  
  /* ===========================
     FONT SIZE ADJUSTER
     =========================== */
  const fontButtons = document.querySelectorAll('.font-btn');
  const fontSizeLabel = document.querySelector('.font-size-label');
  let currentFontSize = 1;
  
  function updateFontSize(multiplier) {
    currentFontSize = Math.max(0.8, Math.min(1.4, currentFontSize + multiplier));
    document.documentElement.style.setProperty('--font-size-multiplier', currentFontSize);
    
    // Update label size
    const labelSize = 14 + (currentFontSize - 1) * 4;
    fontSizeLabel.style.fontSize = `${labelSize}px`;
    
    // Save to localStorage
    localStorage.setItem('fontSize', currentFontSize);
  }
  
  fontButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const size = btn.dataset.size;
      if (size === 'increase') {
        updateFontSize(0.1);
      } else {
        updateFontSize(-0.1);
      }
    });
  });
  
  // Load saved font size
  const savedFontSize = localStorage.getItem('fontSize');
  if (savedFontSize) {
    currentFontSize = parseFloat(savedFontSize);
    document.documentElement.style.setProperty('--font-size-multiplier', currentFontSize);
    const labelSize = 14 + (currentFontSize - 1) * 4;
    fontSizeLabel.style.fontSize = `${labelSize}px`;
  }
  
  /* ===========================
     LANGUAGE SWITCHER
     =========================== */
  const langOptions = document.querySelectorAll('.lang-option');
  const langCurrent = document.querySelector('.lang-current');
  const langCodes = {
    'en': 'EN',
    'es': 'ES',
    'fr': 'FR',
    'de': 'DE',
    'zh': 'ZH'
  };
  
  function updateLanguage(lang) {
    // Update active state
    langOptions.forEach(option => {
      option.classList.remove('active');
      if (option.dataset.lang === lang) {
        option.classList.add('active');
      }
    });
    
    // Update current language display
    langCurrent.textContent = langCodes[lang];
    
    // Update all translatable elements
    document.querySelectorAll('[data-translate]').forEach(element => {
      const key = element.getAttribute('data-translate');
      if (translations[lang] && translations[lang][key]) {
        element.textContent = translations[lang][key];
      }
    });
    
    // Save to localStorage
    localStorage.setItem('language', lang);
  }
  
  langOptions.forEach(option => {
    option.addEventListener('click', () => {
      updateLanguage(option.dataset.lang);
    });
  });
  
  // Load saved language
  const savedLanguage = localStorage.getItem('language') || 'en';
  updateLanguage(savedLanguage);
  
  /* ===========================
     THEME MANAGEMENT
     =========================== */
  const themeOptions = document.querySelectorAll('.theme-option');
  const themeToggleBtn = document.querySelector('.theme-toggle-btn');
  
  function applyTheme(themeName) {
    // Remove all theme classes
    document.body.classList.remove('light', 'dark', 'ocean', 'forest', 'sunset', 'galaxy');
    
    // Add the new theme class
    if (themeName !== 'light') {
      document.body.classList.add(themeName);
    }
    
    // Update active state
    themeOptions.forEach(option => {
      option.classList.remove('active');
      if (option.dataset.theme === themeName) {
        option.classList.add('active');
      }
    });
    
    // Save to localStorage
    localStorage.setItem('theme', themeName);
    
    // Update button icon
    updateThemeButton(themeName);
    
    // Fix hero text visibility
    setTimeout(fixHeroTextVisibility, 100);
  }
  
  function updateThemeButton(themeName) {
    const icons = {
      light: 'fa-sun',
      dark: 'fa-moon',
      ocean: 'fa-water',
      forest: 'fa-tree',
      sunset: 'fa-cloud-sun',
      galaxy: 'fa-star'
    };
    
    const icon = themeToggleBtn.querySelector('i');
    icon.className = `fas ${icons[themeName]}`;
  }
  
  function loadThemeFromStorage() {
    const saved = localStorage.getItem('theme') || 'light';
    applyTheme(saved);
  }
  
  // Theme option click handlers
  themeOptions.forEach(option => {
    option.addEventListener('click', () => {
      applyTheme(option.dataset.theme);
    });
  });
  
  // Initialize theme on load
  loadThemeFromStorage();
  
  /* ===========================
     HERO TEXT VISIBILITY FIX
     =========================== */
  function fixHeroTextVisibility() {
    const heroText = document.querySelector('.hero-text');
    const heroTitle = document.querySelector('.hero-text h1');
    const typedText = document.getElementById('typed');
    const btnPrimary = document.querySelector('.btn-primary');
    const btnOutline = document.querySelector('.btn-outline');
    
    const currentTheme = document.body.className;
    
    const themeColors = {
      'ocean': {
        text: '#ffffff',
        btnBg: '#4dd0e1',
        btnText: '#004d40',
        outlineBorder: '#4dd0e1',
        outlineText: '#4dd0e1'
      },
      'forest': {
        text: '#ffffff',
        btnBg: '#66bb6a',
        btnText: '#1b5e20',
        outlineBorder: '#66bb6a',
        outlineText: '#66bb6a'
      },
      'sunset': {
        text: '#ffffff',
        btnBg: '#ffb74d',
        btnText: '#e65100',
        outlineBorder: '#ffb74d',
        outlineText: '#ffb74d'
      },
      'galaxy': {
        text: '#ffffff',
        btnBg: '#ba68c8',
        btnText: '#4a148c',
        outlineBorder: '#ba68c8',
        outlineText: '#ba68c8'
      },
      'dark': {
        text: '#ffffff',
        btnBg: '#ffffff',
        btnText: '#007bff',
        outlineBorder: '#ffffff',
        outlineText: '#ffffff'
      },
      'light': {
        text: '#212529',
        btnBg: '#007bff',
        btnText: '#ffffff',
        outlineBorder: '#007bff',
        outlineText: '#007bff'
      }
    };
    
    const colors = themeColors[currentTheme] || themeColors['light'];
    
    // Apply colors with inline styles for maximum specificity
    if (heroText) heroText.style.color = colors.text;
    if (heroTitle) heroTitle.style.color = colors.text;
    if (typedText) typedText.style.color = colors.text;
    
    if (btnPrimary) {
      btnPrimary.style.backgroundColor = colors.btnBg;
      btnPrimary.style.color = colors.btnText;
    }
    
    if (btnOutline) {
      btnOutline.style.backgroundColor = 'transparent';
      btnOutline.style.color = colors.outlineText;
      btnOutline.style.border = `2px solid ${colors.outlineBorder}`;
    }
  }
  
  /* ===========================
     CUSTOM CURSOR
     =========================== */
  const cursor = document.querySelector('.cursor');
  const cursorFollower = document.querySelector('.cursor-follower');
  
  document.addEventListener('mousemove', (e) => {
    cursor.style.left = e.clientX + 'px';
    cursor.style.top = e.clientY + 'px';
    
    setTimeout(() => {
      cursorFollower.style.left = e.clientX + 'px';
      cursorFollower.style.top = e.clientY + 'px';
    }, 100);
  });
  
  document.addEventListener('mousedown', () => {
    cursor.style.transform = 'translate(-50%, -50%) scale(0.8)';
    cursorFollower.style.transform = 'translate(-50%, -50%) scale(0.8)';
  });
  
  document.addEventListener('mouseup', () => {
    cursor.style.transform = 'translate(-50%, -50%) scale(1)';
    cursorFollower.style.transform = 'translate(-50%, -50%) scale(1)';
  });
  
  /* ===========================
     MOBILE MENU
     =========================== */
  const menuToggle = document.querySelector('.menu-toggle');
  const navLinks = document.querySelector('.nav-links');
  
  menuToggle.addEventListener('click', () => {
    navLinks.classList.toggle('active');
    menuToggle.classList.toggle('active');
  });
  
  /* ===========================
     TYPED HERO TEXT
     =========================== */
  const roles = [
    "Software Engineering student.",
    "Web developer.",
    "Problem solver.",
    "Open-source contributor."
  ];
  const typedEl = document.getElementById("typed");
  let ti = 0, ci = 0, deleting = false;
  
  function typeLoop() {
    if (!typedEl) return;
    const currentLang = localStorage.getItem('language') || 'en';
    const currentRoles = translations[currentLang]['hero-subtitle'].split(' | ');
    const current = currentRoles[ti] || roles[ti];
    
    typedEl.textContent = current.slice(0, ci);
    if (!deleting) {
      ci++;
      if (ci > current.length) {
        deleting = true;
        setTimeout(typeLoop, 1200);
        return;
      }
    } else {
      ci--;
      if (ci < 0) {
        deleting = false;
        ti = (ti + 1) % currentRoles.length;
        setTimeout(typeLoop, 300);
        return;
      }
    }
    setTimeout(typeLoop, deleting ? 40 : 80);
  }
  typeLoop();
  
  /* ===========================
     PARTICLES ANIMATION
     =========================== */
  function createParticles() {
    const particlesContainer = document.querySelector('.particles');
    if (!particlesContainer) return;
    
    const particlesCount = 50;
    
    for (let i = 0; i < particlesCount; i++) {
      const particle = document.createElement('div');
      particle.classList.add('particle');
      
      const size = Math.random() * 5 + 1;
      const posX = Math.random() * 100;
      const posY = Math.random() * 100;
      const delay = Math.random() * 20;
      const duration = Math.random() * 20 + 10;
      
      particle.style.width = `${size}px`;
      particle.style.height = `${size}px`;
      particle.style.left = `${posX}%`;
      particle.style.top = `${posY}%`;
      particle.style.animationDelay = `${delay}s`;
      particle.style.animationDuration = `${duration}s`;
      
      particlesContainer.appendChild(particle);
    }
  }
  
  createParticles();
  
  /* ===========================
     SCROLL ANIMATIONS
     =========================== */
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, observerOptions);
  
  // Observe all sections
  document.querySelectorAll('.page-section').forEach(section => {
    observer.observe(section);
  });
  
  /* ===========================
     COUNTER ANIMATION
     =========================== */
  const counters = document.querySelectorAll('.stat-number');
  const speed = 200;
  
  const countUp = () => {
    counters.forEach(counter => {
      const target = +counter.getAttribute('data-target');
      const count = +counter.innerText;
      const increment = target / speed;
      
      if (count < target) {
        counter.innerText = Math.ceil(count + increment);
        setTimeout(countUp, 10);
      } else {
        counter.innerText = target;
      }
    });
  };
  
  // Trigger counter animation when about section is visible
  const aboutSection = document.getElementById('about');
  const aboutObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        countUp();
        aboutObserver.unobserve(entry.target);
      }
    });
  }, { threshold: 0.5 });
  
  aboutObserver.observe(aboutSection);
  
  /* ===========================
     SKILL BARS
     =========================== */
  const skillBars = document.querySelectorAll(".bar");
  if ("IntersectionObserver" in window) {
    const skillObserver = new IntersectionObserver((entries, o) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const width = entry.target.dataset.width;
          entry.target.style.width = width + "%";
          o.unobserve(entry.target);
        }
      });
    }, { threshold: 0.4 });
    skillBars.forEach(b => skillObserver.observe(b));
  } else {
    skillBars.forEach(b => b.style.width = b.dataset.width + "%");
  }
  
  /* ===========================
     PROJECT FILTER
     =========================== */
  document.querySelectorAll(".filter-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      document.querySelector(".filter-btn.active")?.classList.remove("active");
      btn.classList.add("active");
      const f = btn.dataset.filter;
      document.querySelectorAll(".project-card-3d").forEach(card => {
        if (f === "all") {
          card.style.display = "";
          return;
        }
        const tags = (card.dataset.tags || "").split(" ").map(t => t.trim());
        card.style.display = tags.includes(f) ? "" : "none";
      });
    });
  });
  
  /* ===========================
     CONTACT FORM (EmailJS)
     =========================== */
  (function () {
    if (window.emailjs) {
      try {
        emailjs.init("oD8O16m34hGHpi-1S");
      } catch (e) {
        console.warn("EmailJS init failed", e);
      }
    }
  })();
  
  const contactForm = document.getElementById("contact-form");
  if (contactForm) {
    contactForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const btn = contactForm.querySelector("button[type='submit']");
      btn.disabled = true;
      btn.textContent = "Sendingâ€¦";
  
      if (window.emailjs) {
        emailjs.sendForm("service_8g01mr", "template_vx207z1", "#contact-form")
          .then(() => {
            alert("âœ… Message sent! I'll get back to you soon.");
            contactForm.reset();
            btn.disabled = false;
            btn.textContent = translations[localStorage.getItem('language') || 'en']['send-message'];
          }, (err) => {
            console.error("EmailJS error:", err);
            alert("âŒ Failed to send. Please try again or email me directly.");
            btn.disabled = false;
            btn.textContent = translations[localStorage.getItem('language') || 'en']['send-message'];
          });
      } else {
        alert("âš ï¸ EmailJS not loaded. Contact form disabled.");
        contactForm.reset();
        btn.disabled = false;
        btn.textContent = translations[localStorage.getItem('language') || 'en']['send-message'];
      }
    });
  }
  
  /* ===========================
     NEWSLETTER FORM
     =========================== */
  const newsletterForm = document.getElementById('newsletter-form');
  const newsletterSuccess = document.getElementById('newsletter-success');
  
  if (newsletterForm) {
    newsletterForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const email = document.getElementById('newsletter-email').value;
      
      // Simulate API call
      setTimeout(() => {
        newsletterSuccess.classList.add('show');
        newsletterForm.reset();
        
        setTimeout(() => {
          newsletterSuccess.classList.remove('show');
        }, 3000);
      }, 1000);
    });
  }
  
  /* ===========================
     TESTIMONIALS CAROUSEL
     =========================== */
  let currentTestimonial = 0;
  const testimonials = document.querySelectorAll('.testimonial-card');
  const totalTestimonials = testimonials.length;
  const track = document.querySelector('.testimonial-track');
  
  function updateTestimonial() {
    track.style.transform = `translateX(-${currentTestimonial * 100}%)`;
  }
  
  document.querySelector('.carousel-btn.next').addEventListener('click', () => {
    currentTestimonial = (currentTestimonial + 1) % totalTestimonials;
    updateTestimonial();
  });
  
  document.querySelector('.carousel-btn.prev').addEventListener('click', () => {
    currentTestimonial = (currentTestimonial - 1 + totalTestimonials) % totalTestimonials;
    updateTestimonial();
  });
  
  // Auto-rotate testimonials
  setInterval(() => {
    currentTestimonial = (currentTestimonial + 1) % totalTestimonials;
    updateTestimonial();
  }, 5000);
  
  /* ===========================
     GITHUB: Recent Repos
     =========================== */
  (function loadRecentRepos() {
    const username = "brianmuigai2-stack";
    fetch(`https://api.github.com/users/${username}/repos?per_page=6&sort=updated`)
      .then(r => r.ok ? r.json() : Promise.reject(r.status))
      .then(repos => {
        const recentRepos = repos.slice(0, 4);
        const parent = document.getElementById("recent-repos");
        if (!parent || recentRepos.length === 0) return;
  
        recentRepos.forEach(repo => {
          const a = document.createElement("a");
          a.href = repo.html_url;
          a.target = "_blank";
          a.rel = "noopener noreferrer";
          a.className = "repo";
          a.innerHTML = `<strong>${repo.name}</strong><span>â˜… ${repo.stargazers_count}</span>`;
          parent.appendChild(a);
        });
      })
      .catch(err => {
        console.warn("GitHub repos failed:", err);
      });
  })();
  
  /* ===========================
     LAZY LOADING IMAGES
     =========================== */
  const imageObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const img = entry.target;
        img.src = img.dataset.src;
        img.classList.remove('lazy');
        img.classList.add('loaded');
        observer.unobserve(img);
      }
    });
  });
  
  document.querySelectorAll('img[data-src]').forEach(img => {
    imageObserver.observe(img);
  });
  
  /* ===========================
     Smooth Scroll
     =========================== */
  document.querySelectorAll(".hero-buttons a, .back-to-top a").forEach(link => {
    link.addEventListener("click", (e) => {
      if (link.hash) {
        e.preventDefault();
        document.querySelector(link.hash)?.scrollIntoView({ behavior: "smooth" });
      }
    });
  });
  
  /* ===========================
     SCROLL TO TOP BUTTON
     =========================== */
  const backToTopButton = document.querySelector('.back-to-top a');
  
  window.addEventListener('scroll', () => {
    if (window.scrollY > 300) {
      backToTopButton.style.opacity = '1';
      backToTopButton.style.visibility = 'visible';
    } else {
      backToTopButton.style.opacity = '0';
      backToTopButton.style.visibility = 'hidden';
    }
  });
  
  /* ===========================
     SEO CANONICAL URL FIX
     =========================== */
  function ensureCanonicalURL() {
    const currentURL = 'https://brianmuigai2-stack.github.io/my-first-website/';
    let canonical = document.querySelector('link[rel="canonical"]');
    
    if (!canonical) {
      canonical = document.createElement('link');
      canonical.rel = 'canonical';
      document.head.appendChild(canonical);
    }
    
    canonical.href = currentURL;
    
    // Also update Open Graph URL
    const ogURL = document.querySelector('meta[property="og:url"]');
    if (ogURL) {
      ogURL.content = currentURL;
    }
    
    // Update Twitter URL
    const twitterURL = document.querySelector('meta[property="twitter:url"]');
    if (twitterURL) {
      twitterURL.content = currentURL;
    }
  }
  
  /* ===========================
     INITIALIZATION
     =========================== */
  document.addEventListener('DOMContentLoaded', () => {
    // Ensure canonical URL is correct
    ensureCanonicalURL();
    
    // Apply hero text fix on load
    fixHeroTextVisibility();
    
    // Update language on load
    const savedLanguage = localStorage.getItem('language') || 'en';
    updateLanguage(savedLanguage);
    
    // Initialize animations
    createParticles();
    
    // Load GitHub repos
    loadRecentRepos();
  });
  
  /* ===========================
     PERFORMANCE MONITORING
     =========================== */
  function monitorPerformance() {
    // Track Core Web Vitals
    if ('PerformanceObserver' in window) {
      const observer = new PerformanceObserver((list) => {
        list.getEntries().forEach((entry) => {
          if (entry.entryType === 'largest-contentful-paint') {
            console.log('LCP:', entry.startTime);
          }
          if (entry.entryType === 'first-input') {
            console.log('FID:', entry.processingStart - entry.startTime);
          }
          if (entry.entryType === 'layout-shift') {
            console.log('CLS:', entry.value);
          }
        });
      });
      
      observer.observe({ entryTypes: ['largest-contentful-paint', 'first-input', 'layout-shift'] });
    }
  }
  
  // Initialize performance monitoring
  monitorPerformance();
  
  /* ===========================
     ANALYTICS
     =========================== */
  function initAnalytics() {
    // Google Analytics 4 (replace with your actual GA4 ID)
    if (typeof gtag !== 'undefined') {
      gtag('config', 'GA_MEASUREMENT_ID');
      
      // Track page views
      gtag('event', 'page_view', {
        page_title: document.title,
        page_location: window.location.href
      });
      
      // Track theme changes
      document.querySelectorAll('.theme-option').forEach(btn => {
        btn.addEventListener('click', () => {
          gtag('event', 'theme_change', {
            theme_name: btn.dataset.theme
          });
        });
      });
      
      // Track language changes
      document.querySelectorAll('.lang-option').forEach(btn => {
        btn.addEventListener('click', () => {
          gtag('event', 'language_change', {
            language: btn.dataset.lang
          });
        });
      });
      
      // Track contact form submissions
      const contactForm = document.getElementById('contact-form');
      if (contactForm) {
        contactForm.addEventListener('submit', () => {
          gtag('event', 'form_submit', {
            event_category: 'engagement',
            event_label: 'contact_form'
          });
        });
      }
      
      // Track newsletter subscriptions
      const newsletterForm = document.getElementById('newsletter-form');
      if (newsletterForm) {
        newsletterForm.addEventListener('submit', () => {
          gtag('event', 'newsletter_subscribe', {
            event_category: 'engagement',
            event_label: 'newsletter_form'
          });
        });
      }
      
      // Track project clicks
      document.querySelectorAll('.project-links a').forEach(link => {
        link.addEventListener('click', () => {
          gtag('event', 'project_click', {
            event_category: 'engagement',
            event_label: link.getAttribute('aria-label') || 'project_link'
          });
        });
      });
    }
  }
  
  // Initialize analytics if available
  if (typeof gtag !== 'undefined') {
    initAnalytics();
  }
  
  /* ===========================
     MUSIC PLAYER - IMPROVED VERSION
     =========================== */
  document.addEventListener('DOMContentLoaded', function() {
    const musicPlayer = document.getElementById('music-player');
    const musicToggle = document.getElementById('music-toggle');
    const playBtn = document.getElementById('play-btn');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const volumeSlider = document.getElementById('volume-slider');
    const progressBar = document.querySelector('.progress');
    const backgroundMusic = document.getElementById('background-music');
    
    // Check if all elements exist
    if (!musicPlayer || !musicToggle || !playBtn || !backgroundMusic) {
      console.warn('Music player elements not found');
      return;
    }
    
    // Playlist with multiple reliable sources
    const playlist = [
      {
        title: "Ambient Vibes",
        artist: "Portfolio Experience",
        src: "./audio/music.mp3"
      // },
      // {
      //   title: "Creative Flow",
      //   artist: "Background Music",
      //   src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"
      // },
      // {
      //   title: "Digital Dreams",
      //   artist: "Ambient Sounds",
      //   src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"
       }
    ];
    
    let currentTrackIndex = 0;
    let isPlaying = false;
    let hasInteracted = false;
    
    // Initialize audio element
    backgroundMusic.preload = 'auto';
    backgroundMusic.volume = 0.3;
    
    // Load first track
    loadTrack(0);
    
    // Toggle music player visibility
    musicToggle.addEventListener('click', function() {
      musicPlayer.classList.toggle('active');
      hasInteracted = true;
      localStorage.setItem('musicPlayerInteracted', 'true');
      
      // Try to play music on first interaction
      if (!isPlaying && hasInteracted) {
        attemptPlay();
      }
    });
    
    // Play/Pause functionality
    playBtn.addEventListener('click', function(e) {
      e.stopPropagation(); // Prevent toggling the player
      hasInteracted = true;
      
      if (isPlaying) {
        backgroundMusic.pause();
        playBtn.innerHTML = '<i class="fas fa-play"></i>';
        isPlaying = false;
      } else {
        attemptPlay();
      }
    });
    
    // Attempt to play with user interaction
    function attemptPlay() {
      const playPromise = backgroundMusic.play();
      
      if (playPromise !== undefined) {
        playPromise.then(() => {
          // Audio started playing successfully
          isPlaying = true;
          playBtn.innerHTML = '<i class="fas fa-pause"></i>';
          console.log('Music started playing');
        }).catch(error => {
          // Autoplay was prevented
          console.log('Autoplay prevented:', error);
          isPlaying = false;
          playBtn.innerHTML = '<i class="fas fa-play"></i>';
          
          // Show a message to the user
          showMusicHint();
        });
      }
    }
    
    // Show hint to user
    function showMusicHint() {
      const hint = document.createElement('div');
      hint.style.cssText = `
        position: fixed;
        bottom: 100px;
        right: 20px;
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 10px 15px;
        border-radius: 5px;
        font-size: 14px;
        z-index: 10000;
        animation: fadeInOut 3s ease-in-out;
      `;
      hint.textContent = 'Click the play button to start music';
      document.body.appendChild(hint);
      
      setTimeout(() => {
        document.body.removeChild(hint);
      }, 3000);
    }
    
    // Previous track
    prevBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      currentTrackIndex = (currentTrackIndex - 1 + playlist.length) % playlist.length;
      loadTrack(currentTrackIndex);
      if (isPlaying) {
        setTimeout(() => attemptPlay(), 100);
      }
    });
    
    // Next track
    nextBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
      loadTrack(currentTrackIndex);
      if (isPlaying) {
        setTimeout(() => attemptPlay(), 100);
      }
    });
    
    // Volume control
    volumeSlider.addEventListener('input', function(e) {
      e.stopPropagation();
      const volume = this.value / 100;
      backgroundMusic.volume = volume;
      localStorage.setItem('musicVolume', volume);
    });
    
    // Load saved volume
    const savedVolume = localStorage.getItem('musicVolume');
    if (savedVolume) {
      backgroundMusic.volume = parseFloat(savedVolume);
      volumeSlider.value = savedVolume * 100;
    }
    
    // Update progress bar
    backgroundMusic.addEventListener('timeupdate', function() {
      if (backgroundMusic.duration) {
        const progress = (backgroundMusic.currentTime / backgroundMusic.duration) * 100;
        progressBar.style.width = progress + '%';
      }
    });
    
    // Handle track end
    backgroundMusic.addEventListener('ended', function() {
      currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
      loadTrack(currentTrackIndex);
      if (isPlaying) {
        setTimeout(() => attemptPlay(), 100);
      }
    });
    
    // Handle audio errors
    backgroundMusic.addEventListener('error', function(e) {
      console.error('Audio error:', e);
      // Try next track
      currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
      loadTrack(currentTrackIndex);
    });
    
    // Load track function
    function loadTrack(index) {
      const track = playlist[index];
      backgroundMusic.src = track.src;
      document.querySelector('.music-title').textContent = track.title;
      document.querySelector('.music-artist').textContent = track.artist;
      progressBar.style.width = '0%';
      
      // Update play button
      if (isPlaying) {
        playBtn.innerHTML = '<i class="fas fa-pause"></i>';
      } else {
        playBtn.innerHTML = '<i class="fas fa-play"></i>';
      }
    }
    
    // Check if user has previously interacted with music player
    const hasInteractedBefore = localStorage.getItem('musicPlayerInteracted');
    if (hasInteractedBefore === 'true') {
      // Auto-open the player if user has interacted before
      setTimeout(() => {
        musicPlayer.classList.add('active');
      }, 2000);
    }
    
    // Add keyboard controls
    document.addEventListener('keydown', function(e) {
      if (e.code === 'Space' && musicPlayer.classList.contains('active')) {
        e.preventDefault();
        playBtn.click();
      }
    });
    
    // Add visual feedback for loading
    backgroundMusic.addEventListener('loadstart', function() {
      playBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
    });
    
    backgroundMusic.addEventListener('canplay', function() {
      if (!isPlaying) {
        playBtn.innerHTML = '<i class="fas fa-play"></i>';
      }
    });
  });
  
  // Add CSS animation for hint
  const style = document.createElement('style');
  style.textContent = `
    @keyframes fadeInOut {
      0% { opacity: 0; transform: translateY(10px); }
      20% { opacity: 1; transform: translateY(0); }
      80% { opacity: 1; transform: translateY(0); }
      100% { opacity: 0; transform: translateY(-10px); }
    }
  `;
  document.head.appendChild(style);